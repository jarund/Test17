<odoo>
  <data>

  <!-- Product Template Form view.  -->
  <record model="ir.ui.view" id="cmc_product_form">
    <field name="name">Products</field>
    <field name="inherit_id" ref="product.product_template_only_form_view"/>
    <field name="model">product.template</field>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='barcode']" position="after">
        <field name="cmc_container_type_ids"/>
      </xpath>
    </field>
  </record>

  <!-- Product Lot Form view.  -->
  <record model="ir.ui.view" id="cmc_lot_form">
    <field name="name">Lot/Serial Numbers</field>
    <field name="inherit_id" ref="stock.view_production_lot_form"/>
    <field name="model">stock.production.lot</field>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='ref']" position="after">
        <field name="cmc_container"/>
        <field name="cmc_tare_weight"/>
        <field name="cmc_net_weight"/>
      </xpath>
    </field>
  </record>

  <!-- Product Lot List view.  -->
  <record model="ir.ui.view" id="cmc_lot_list">
    <field name="name">Lot/Serial Numbers List</field>
    <field name="inherit_id" ref="stock.view_production_lot_tree"/>
    <field name="model">stock.production.lot</field>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='product_id']" position="after">
        <field name="product_qty"/>
        <field name="cmc_container"/>
        <field name="cmc_tare_weight"/>
        <field name="cmc_net_weight"/>
      </xpath>
    </field>
  </record>

  <!-- Inventory Report List view.  -->
  <record model="ir.ui.view" id="cmc_inventory_report_list">
    <field name="name">CMC Inventory Report List</field>
    <field name="inherit_id" ref="stock.view_stock_quant_tree_editable"/>
    <field name="model">stock.quant</field>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='inventory_quantity']" position="after">
        <field name="cmc_lot_container"/>
        <field name="cmc_lot_gross_weight"/>
        <field name="cmc_lot_tare_weight"/>
        <field name="cmc_lot_net_weight"/>
        <field name="product_category" optional="hide"/>
      </xpath>
    </field>
  </record>
  
  <!-- CMC Container Report.  -->
<!--   <record model="ir.ui.view" id="cmc_inventory_report_list">
    <field name="name">CMC Container Report</field>
    <field name="model">cmc2.container.report</field>
    <field name="arch" type="xml">
      <tree>
        <field name="product_id"/>
        <field name="quantity"/>
      </tree>
    </field>
  </record> -->

    <!-- Container Report view -->
    <record model="ir.ui.view" id="ship_container_report">
      <field name="name">Contanier Report</field>
      <field name="model">cmc.container.report</field>
      <field name="arch" type="xml">
        <tree>
          <field name="product_id"/>
          <field name="categ_id"/>
          <field name="location_id"/>
          <field name="lot_id"/>
          <field name="quantity" sum="Total Gross Weight"/>
          <field name="uom_id"/>
          <field name="cmc_container"/>
          <field name="cmc_tare_weight"/>
          <field name="cmc_net_weight" sum="Total Net Weight"/>
        </tree>
      </field>
    </record>


    <!-- Container Search view -->
    <record id="ship_container_report_search" model="ir.ui.view">
      <field name="name">cmc.container.report.search</field>
      <field name="model">cmc.container.report</field>
      <field name="arch" type="xml">
        <search string="Search">
          <group expand="0" string="Group By">
            <filter string="Location" name="location_id" context="{'group_by': 'location_id'}"></filter>
          </group>
        </search>
      </field>
    </record>


  <!-- Operation form view for Shipments.  -->
  <record model="ir.ui.view" id="cmc_shipping_form">
    <field name="name">Shipping Form</field>
    <field name="inherit_id" ref="stock.view_picking_form"/>
    <field name="model">stock.picking</field>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='partner_id']" position="after">
        <field name="cmc_carrier_ids" attrs="{'invisible': [('picking_type_code','!=','outgoing')]}"/>
      </xpath>
      <!-- Make Operation Type Read only to keep process simple. -->
      <xpath expr="//field[@name='picking_type_id']" position="attributes">
        <attribute name="readonly">True</attribute>
      </xpath> 
      <!-- Add additonal fields for Shipment tracking -->
      <xpath expr="//field[@name='origin']" position="after">
        <!-- <field name="cmc_shipment_customer_id" attrs="{'invisible': [('type_of_operation','!=','outgoing')]}"/> -->
        <field name="cmc_load_date" attrs="{'invisible': [('picking_type_code','!=','outgoing')]}"/>
        <field name="cmc_ship_date" attrs="{'invisible': [('picking_type_code','!=','outgoing')]}"/>
        <field name="cmc_truck_nbr" attrs="{'invisible': [('picking_type_code','!=','outgoing')]}"/>
        <field name="cmc_trailer_number" attrs="{'invisible': [('picking_type_code', '!=', 'outgoing')]}"/>
        <field name="cmc_seal_number" attrs="{'invisible': [('picking_type_code','!=','outgoing')]}"/>
      </xpath>
    </field>
  </record>


  <!-- Setting View -->
  <record model="ir.actions.act_window" id="container_qty_action_window">
    <field name="name">Container Weight List</field>
    <field name="res_model">cmc.container.report</field>
    <field name="view_mode">tree,form</field>
    <field name="context">{'group_by':['location_id']}</field>
  </record>

  <!-- Adding to Menu -->
  <menuitem name="Container Qty List" id="container_qty_list" parent="stock.menu_warehouse_report"
            action="container_qty_action_window"/>

  </data>
</odoo>